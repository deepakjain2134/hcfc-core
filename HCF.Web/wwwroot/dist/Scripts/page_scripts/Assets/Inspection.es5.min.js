"use strict";function filterAssetbyEP(){var n=$("input[name=epdetail]:radio:checked").val();table.columns(1).search(n).draw()}function fillBuildings(){var n="",t="",i;$("#drpBuildings").empty();$("#drpBuildings").append($("<option><\/option>").val(-1).html("Select"));$("#drpBuildings").append($("<option><\/option>").val("").html("All"));$('input:checkbox[id^="cb2"]').each(function(){var t=$(this);t.is(":checked")&&$(this).val()!="on"&&(n=n+$(this).val()+",")});$('input:checkbox[id^="cb3"]').each(function(){var n=$(this);n.is(":checked")&&$(this).val()!="on"&&(t=t+$(this).val()+",")});i=CRxUrls.assets_getfilterbuildings;$.get(i+"?assetId="+n+"&ascIds="+t,function(n){for(var t=0;t<n.length;t++)n[t].BuildingName!=""&&$("#drpBuildings").append($("<option><\/option>").val(n[t].BuildingId).html(n[t].BuildingName));loadData()})}function loadData(){var r="",i,n,t,u;r=$("#drpBuildings").val();i="";i=$("#floors").val();n="";t="";$('input:checkbox[id^="cb2"]').each(function(){var t=$(this);t.is(":checked")&&$(this).val()!="on"&&(n=n+$(this).val()+",")});$('input:checkbox[id^="cb3"]').each(function(){var n=$(this);n.is(":checked")&&$(this).val()!="on"&&(t=t+$(this).val()+",")});u=CRxUrls.assets_getfloorassetsforins;$.get(u+"?buildingId="+r+"&floorId="+i+"&assetId="+n+"&ascIds="+t,function(n){$("#assets_view").html(n);$("#assets_view").fadeIn("fast");filterAssetbyEP()})}function Uploadfile(n){var r=["pdf","xlsx","xls","doc","docx","csv"],t,u,f,i;n.files.length>0&&(n=n.files[0],t=n.name,t!=null&&(u=t.substring(t.lastIndexOf(".")+1),$.inArray(u,r)==-1?swal("Only formats are allowed : "+r.join(", ")):(f=t.substr(0,t.lastIndexOf(".")),$("#fileName").val(t),i=new FileReader,i.readAsDataURL(n),i.onload=function(){var n=i.result.split(",");$("#fileContent").val(n[1]);$("#imagePreview_0").attr("src",ImgUrls.document_blue_icon);$("#imagePreview_0").removeClass("img_prev");$("#imagePreview_0").addClass("img_prev_upload")},i.onerror=function(){$("#FileContent").val("")})))}$(document).ready(function(){$("#floors").append($("<option><\/option>").val("").html("All"));$("#drpBuildings").append($("<option><\/option>").val(-1).html("Select"));loadData();$('input:checkbox[id^="cb"]').change(function(){fillBuildings()});$(".datepicker").datepicker({showOn:"button",buttonImage:ImgUrls.datepicker_calendar,buttonImageOnly:!0}).datepicker("setDate","today")});$(document).on("click","#insSaveComment",function(){var n=$("#insCommenttxt").val();$("#inspectionComment").val(n);n.trim().length>0?$("#inspectionimg").addClass("text"):$("#inspectionimg").removeClass("text")});$("#drpBuildings").change(function(){if($("#drpBuildings").val()!=""){$("#floors").empty();$("#floors").append($("<option><\/option>").val("").html("All"));var n={};n.url=CRxUrls.organization_getfloorbybuilding;n.type="POST";n.data=JSON.stringify({buildingId:$("#drpBuildings").val()});n.datatype="json";n.contentType="application/json";n.success=function(n){for(var t=0;t<n.length;t++)$("#floors").append($("<option><\/option>").val(n[t].FloorId).html(n[t].FloorName));$("#floors").prop("disabled",!1)};n.error=function(){alert("Error in Getting buildings!!")};$.ajax(n)}else $("#floors").empty(),$("#floors").append($("<option><\/option>").val("").html("All"));loadData()});$("#floors").change(function(){loadData()});$("#selectAll").click(function(){var n=$(this);n.is(":checked")?$('input:button[id^="chkbtn"]').not('input:button[id^="chkbtn_disabled"]').each(function(){$(this).val(1)}):$('input:button[id^="chkbtn"]').each(function(){var n=$(this).data("orgvalue");$(this).val(n)})});